{% extends 'base.html' %}

{% block head %}


{% endblock %}

{% block body %}
<div class="container" id="container">
    <div class="form-container sign-up-container">
       <form method="post" action="{{url_for('registration')}}" name="registration">
           <h1>Utwórz konto</h1>
                {% with messages = get_flashed_messages() %}
                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-success alert-dismissable" role="alert">
                {{message}}
                </div>
                {% endfor %}
                {% endif%}
                {% endwith %}
           <input type="text" name="first_name" placeholder="Imię" required>
           <input type="email" name="email" placeholder="E-Mail" required>
           <input type="password" name="password" id="password" placeholder="Hasło" onchange='check_pass();' required>
           <input type="password" name="password-confirm" id="ppassword-confirm" placeholder="Potwierdź Hasło" onchange='check_pass();' required>
           <button id="submit" >Zarejestruj Się!</button>
       </form>
    </div>
        <div class="form-container sign-in-container">
            <form method="post" action="{{url_for('login')}}" name="login">
                <h1>Zaloguj się</h1>
                {% with messages = get_flashed_messages() %}
                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-success alert-dismissable" role="alert">
                {{message}}
                </div>
                {% endfor %}
                {% endif%}
                {% endwith %}
                <input type="text" name="email" placeholder="E-Mail">
                <input type="password" name="password" placeholder="Hasło">
                <button >Zaloguj Się!</button>
            </form>
        </div>
        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1>Witaj Ponownie!</h1>
                    <p>Aby zalogować się do naszej biblioteki użyj swoich danych logowania.</p>
                    <button class="ghost" id="signIn">Zaloguj Się</button>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1>Witaj Czytelniku!</h1>
                    <p>Podaj swoje dane, aby zarejetrować się w naszej bibliotece.</p>
                    <button class="ghost" id="signUp">Zarejestruj się</button>
                </div>
            </div>
        </div>
</div>

<script type="text/javascript">
	const signUpButton = document.getElementById('signUp');
	const signInButton = document.getElementById('signIn');
	const container = document.getElementById('container');

	signUpButton.addEventListener('click', () => {
		container.classList.add("right-panel-active");
	});
	signInButton.addEventListener('click', () => {
		container.classList.remove("right-panel-active");
	});

    function check_pass() {
    if (document.getElementById('password').value ==
            document.getElementById('confirm_password').value) {
        document.getElementById('submit').disabled = false;
    } else {
        document.getElementById('submit').disabled = true;
    }
}

</script>

{% endblock %}